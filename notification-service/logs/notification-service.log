2025-08-29 00:18:37.107 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-29 00:18:37.145 [main] INFO  c.g.n.NotificationServiceApplicationTests - Starting NotificationServiceApplicationTests using Java 21.0.8 with PID 4024 (started by bikku in C:\Users\bikku\OneDrive\Desktop\GymAi\notification-service)
2025-08-29 00:18:37.145 [main] INFO  c.g.n.NotificationServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-08-29 00:18:40.863 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-29 00:18:40.917 [main] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Inferred argument type for public void com.gymai.notification_service.service.EventConsumerService.handleUserEvent(com.gymai.notification_service.dto.UserEvent) is class com.gymai.notification_service.dto.UserEvent
2025-08-29 00:18:40.955 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Changing consumers from 1 to 3
2025-08-29 00:18:40.961 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - No global properties bean
2025-08-29 00:18:40.964 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - No global properties bean
2025-08-29 00:18:41.041 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Starting Rabbit listener container.
2025-08-29 00:18:41.050 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [puffin.rmq2.cloudamqp.com:5671]
2025-08-29 00:18:41.987 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#ad3f70a:0/SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133]
2025-08-29 00:18:41.996 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Initializing declarations
2025-08-29 00:18:42.043 [main] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1)
2025-08-29 00:18:42.054 [main] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x00000256bc69f058 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133]
2025-08-29 00:18:42.054 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - declaring Exchange 'gymai.events'
2025-08-29 00:18:42.090 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - declaring Queue 'gymai.email.queue'
2025-08-29 00:18:42.129 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.registration]
2025-08-29 00:18:42.162 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.login]
2025-08-29 00:18:42.193 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [order.created]
2025-08-29 00:18:42.225 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.password.reset]
2025-08-29 00:18:42.263 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Declarations finished
2025-08-29 00:18:42.273 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x00000256bc6ada58 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133]
2025-08-29 00:18:42.306 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x00000256bc6ada58 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133]
2025-08-29 00:18:42.308 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@4ae2c01b: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:42.339 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@2e4b5da1: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:42.342 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2)
2025-08-29 00:18:42.375 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3)
2025-08-29 00:18:42.377 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x00000256bc6ada58 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133]
2025-08-29 00:18:42.407 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@312819ae: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:42.450 [pool-3-thread-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@2e4b5da1: tags=[[amq.ctag-FNiQAiDd_TMdr3NTP_xzIA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:42.450 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-FNiQAiDd_TMdr3NTP_xzIA: Consumer@2e4b5da1: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:42.451 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-xeyakZTrQC2vWfyXARDDXQ: Consumer@4ae2c01b: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:42.451 [pool-3-thread-4] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@4ae2c01b: tags=[[amq.ctag-xeyakZTrQC2vWfyXARDDXQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:42.503 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-no_-T5DtamLxwcEXKBYz2g: Consumer@312819ae: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:42.503 [pool-3-thread-5] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@312819ae: tags=[[amq.ctag-no_-T5DtamLxwcEXKBYz2g]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:42.526 [main] INFO  c.g.n.NotificationServiceApplicationTests - Started NotificationServiceApplicationTests in 6.054 seconds (process running for 7.642)
2025-08-29 00:18:43.657 [SpringApplicationShutdownHook] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Shutting down Rabbit listener container
2025-08-29 00:18:43.695 [pool-3-thread-6] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received cancelOk for tag amq.ctag-xeyakZTrQC2vWfyXARDDXQ (gymai.email.queue); Consumer@4ae2c01b: tags=[[amq.ctag-xeyakZTrQC2vWfyXARDDXQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:43.722 [pool-3-thread-7] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received cancelOk for tag amq.ctag-FNiQAiDd_TMdr3NTP_xzIA (gymai.email.queue); Consumer@2e4b5da1: tags=[[amq.ctag-FNiQAiDd_TMdr3NTP_xzIA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:43.748 [pool-3-thread-8] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received cancelOk for tag amq.ctag-no_-T5DtamLxwcEXKBYz2g (gymai.email.queue); Consumer@312819ae: tags=[[amq.ctag-no_-T5DtamLxwcEXKBYz2g]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:43.748 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-29 00:18:44.523 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-29 00:18:44.523 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Cancelling Consumer@2e4b5da1: tags=[[amq.ctag-FNiQAiDd_TMdr3NTP_xzIA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:44.523 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Cancelling Consumer@4ae2c01b: tags=[[amq.ctag-xeyakZTrQC2vWfyXARDDXQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:44.523 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Closing Rabbit Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133]
2025-08-29 00:18:44.523 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Closing Rabbit Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133]
2025-08-29 00:18:44.523 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Cancelling Consumer@312819ae: tags=[[amq.ctag-no_-T5DtamLxwcEXKBYz2g]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:18:44.523 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.c.CachingConnectionFactory - Closing cached Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2)
2025-08-29 00:18:44.523 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.c.CachingConnectionFactory - Closing cached Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1)
2025-08-29 00:18:44.523 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Closing Rabbit Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@1b6cad77 Shared Rabbit Connection: SimpleConnection@16ef1160 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29133]
2025-08-29 00:18:44.525 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.c.CachingConnectionFactory - Closing cached Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3)
2025-08-29 00:18:44.569 [SpringApplicationShutdownHook] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Shutdown ignored - container is not active already
2025-08-29 00:18:57.588 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-29 00:18:57.637 [main] INFO  c.g.n.NotificationServiceApplication - Starting NotificationServiceApplication using Java 21.0.8 with PID 17800 (C:\Users\bikku\OneDrive\Desktop\GymAi\notification-service\target\classes started by bikku in C:\Users\bikku\OneDrive\Desktop\GymAi\notification-service)
2025-08-29 00:18:57.637 [main] INFO  c.g.n.NotificationServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-29 00:18:59.015 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8084 (http)
2025-08-29 00:18:59.040 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8084"]
2025-08-29 00:18:59.040 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-29 00:18:59.040 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-29 00:18:59.104 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-29 00:18:59.104 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1411 ms
2025-08-29 00:18:59.985 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-29 00:19:00.034 [main] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Inferred argument type for public void com.gymai.notification_service.service.EventConsumerService.handleUserEvent(com.gymai.notification_service.dto.UserEvent) is class com.gymai.notification_service.dto.UserEvent
2025-08-29 00:19:00.049 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Changing consumers from 1 to 3
2025-08-29 00:19:00.053 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - No global properties bean
2025-08-29 00:19:00.054 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - No global properties bean
2025-08-29 00:19:00.096 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8084"]
2025-08-29 00:19:00.129 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8084 (http) with context path '/'
2025-08-29 00:19:00.130 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Starting Rabbit listener container.
2025-08-29 00:19:00.134 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [puffin.rmq2.cloudamqp.com:5671]
2025-08-29 00:19:00.505 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4eeab3e:0/SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134]
2025-08-29 00:19:00.521 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Initializing declarations
2025-08-29 00:19:00.569 [main] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1)
2025-08-29 00:19:00.582 [main] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x000001ee81631100 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134]
2025-08-29 00:19:00.582 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - declaring Exchange 'gymai.events'
2025-08-29 00:19:00.618 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - declaring Queue 'gymai.email.queue'
2025-08-29 00:19:00.653 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.registration]
2025-08-29 00:19:00.689 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.login]
2025-08-29 00:19:00.727 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [order.created]
2025-08-29 00:19:00.761 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.password.reset]
2025-08-29 00:19:00.800 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Declarations finished
2025-08-29 00:19:00.806 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x000001ee816377d8 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134]
2025-08-29 00:19:00.868 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x000001ee816377d8 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134]
2025-08-29 00:19:00.870 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@380e33c2: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:19:00.908 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@54556723: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:19:00.909 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2)
2025-08-29 00:19:00.939 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3)
2025-08-29 00:19:00.940 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x000001ee816377d8 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134]
2025-08-29 00:19:00.974 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@6124dda2: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:19:01.029 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-ZKeszN_6znpQhRPDZv_vCg: Consumer@380e33c2: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:19:01.029 [pool-2-thread-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@380e33c2: tags=[[amq.ctag-ZKeszN_6znpQhRPDZv_vCg]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:19:01.029 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-hBQz3Z0XV5qV3nvIwmIsdQ: Consumer@54556723: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:19:01.029 [pool-2-thread-4] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@54556723: tags=[[amq.ctag-hBQz3Z0XV5qV3nvIwmIsdQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:19:01.085 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-TacfT-MS7SG4_Wy58BI2ZA: Consumer@6124dda2: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:19:01.085 [pool-2-thread-5] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@6124dda2: tags=[[amq.ctag-TacfT-MS7SG4_Wy58BI2ZA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:19:01.100 [main] INFO  c.g.n.NotificationServiceApplication - Started NotificationServiceApplication in 4.12 seconds (process running for 4.45)
2025-08-29 00:27:49.204 [pool-2-thread-6] DEBUG o.s.a.r.l.BlockingQueueConsumer - Storing delivery for consumerTag: 'amq.ctag-ZKeszN_6znpQhRPDZv_vCg' with deliveryTag: '1' in Consumer@380e33c2: tags=[[amq.ctag-ZKeszN_6znpQhRPDZv_vCg]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:27:49.267 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received message: (Body:'[B@4b60e057(byte[74])' MessageProperties [headers={__TypeId__=com.gymai.auth_service.messaging.UserEvent}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=gymai.events, receivedRoutingKey=user.registration, deliveryTag=1, consumerTag=amq.ctag-ZKeszN_6znpQhRPDZv_vCg, consumerQueue=gymai.email.queue])
2025-08-29 00:27:49.406 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Processing [GenericMessage [payload=UserEvent(email=test@gmail.com, name=null, eventType=REGISTRATION), headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=gymai.events, amqp_deliveryTag=1, amqp_consumerQueue=gymai.email.queue, amqp_redelivered=false, amqp_receivedRoutingKey=user.registration, amqp_contentEncoding=UTF-8, amqp_retryCount=0, id=1881c993-87cf-efbf-3b50-17c26383d93c, amqp_consumerTag=amq.ctag-ZKeszN_6znpQhRPDZv_vCg, amqp_lastInBatch=false, contentType=application/json, __TypeId__=com.gymai.auth_service.messaging.UserEvent, timestamp=1756407469406}]]
2025-08-29 00:27:49.406 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.g.n.service.EventConsumerService - Received event: REGISTRATION for user: test@gmail.com
2025-08-29 00:27:49.406 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.g.n.service.EmailServiceImpl - Initiating welcome email for new user: test@gmail.com
2025-08-29 00:27:49.406 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.g.n.service.EmailServiceImpl - Attempting to send an email to: test@gmail.com with subject: Welcome to GymAI!
2025-08-29 00:27:57.142 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.g.n.service.EmailServiceImpl - Email sent successfully to: test@gmail.com
2025-08-29 00:28:36.341 [pool-2-thread-7] DEBUG o.s.a.r.l.BlockingQueueConsumer - Storing delivery for consumerTag: 'amq.ctag-hBQz3Z0XV5qV3nvIwmIsdQ' with deliveryTag: '1' in Consumer@54556723: tags=[[amq.ctag-hBQz3Z0XV5qV3nvIwmIsdQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:28:36.341 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received message: (Body:'[B@8c2525f(byte[81])' MessageProperties [headers={__TypeId__=com.gymai.auth_service.messaging.UserEvent}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=gymai.events, receivedRoutingKey=user.registration, deliveryTag=1, consumerTag=amq.ctag-hBQz3Z0XV5qV3nvIwmIsdQ, consumerQueue=gymai.email.queue])
2025-08-29 00:28:36.347 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Processing [GenericMessage [payload=UserEvent(email=bikkujangid@gmail.com, name=null, eventType=REGISTRATION), headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=gymai.events, amqp_deliveryTag=1, amqp_consumerQueue=gymai.email.queue, amqp_redelivered=false, amqp_receivedRoutingKey=user.registration, amqp_contentEncoding=UTF-8, amqp_retryCount=0, id=be6b2255-80fa-1ba4-5e7b-ce58e36c7821, amqp_consumerTag=amq.ctag-hBQz3Z0XV5qV3nvIwmIsdQ, amqp_lastInBatch=false, contentType=application/json, __TypeId__=com.gymai.auth_service.messaging.UserEvent, timestamp=1756407516347}]]
2025-08-29 00:28:36.349 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EventConsumerService - Received event: REGISTRATION for user: bikkujangid@gmail.com
2025-08-29 00:28:36.349 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EmailServiceImpl - Initiating welcome email for new user: bikkujangid@gmail.com
2025-08-29 00:28:36.350 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EmailServiceImpl - Attempting to send an email to: bikkujangid@gmail.com with subject: Welcome to GymAI!
2025-08-29 00:28:40.190 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EmailServiceImpl - Email sent successfully to: bikkujangid@gmail.com
2025-08-29 00:42:49.454 [pool-2-thread-8] DEBUG o.s.a.r.l.BlockingQueueConsumer - Storing delivery for consumerTag: 'amq.ctag-TacfT-MS7SG4_Wy58BI2ZA' with deliveryTag: '1' in Consumer@6124dda2: tags=[[amq.ctag-TacfT-MS7SG4_Wy58BI2ZA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:42:49.459 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received message: (Body:'[B@61398aca(byte[74])' MessageProperties [headers={__TypeId__=com.gymai.auth_service.messaging.UserEvent}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=gymai.events, receivedRoutingKey=user.login, deliveryTag=1, consumerTag=amq.ctag-TacfT-MS7SG4_Wy58BI2ZA, consumerQueue=gymai.email.queue])
2025-08-29 00:42:49.470 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Processing [GenericMessage [payload=UserEvent(email=bikkujangid@gmail.com, name=null, eventType=LOGIN), headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=gymai.events, amqp_deliveryTag=1, amqp_consumerQueue=gymai.email.queue, amqp_redelivered=false, amqp_receivedRoutingKey=user.login, amqp_contentEncoding=UTF-8, amqp_retryCount=0, id=88da111c-125c-6c3a-f394-6d430595562c, amqp_consumerTag=amq.ctag-TacfT-MS7SG4_Wy58BI2ZA, amqp_lastInBatch=false, contentType=application/json, __TypeId__=com.gymai.auth_service.messaging.UserEvent, timestamp=1756408369469}]]
2025-08-29 00:42:49.472 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.g.n.service.EventConsumerService - Received event: LOGIN for user: bikkujangid@gmail.com
2025-08-29 00:42:49.473 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.g.n.service.EmailServiceImpl - Initiating login notification email for user: bikkujangid@gmail.com
2025-08-29 00:42:49.481 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.g.n.service.EmailServiceImpl - Attempting to send an email to: bikkujangid@gmail.com with subject: Login Notification - GymAI
2025-08-29 00:42:53.370 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.g.n.service.EmailServiceImpl - Email sent successfully to: bikkujangid@gmail.com
2025-08-29 00:43:27.220 [SpringApplicationShutdownHook] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Shutting down Rabbit listener container
2025-08-29 00:43:27.570 [pool-2-thread-9] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received cancelOk for tag amq.ctag-ZKeszN_6znpQhRPDZv_vCg (gymai.email.queue); Consumer@380e33c2: tags=[[amq.ctag-ZKeszN_6znpQhRPDZv_vCg]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:27.605 [pool-2-thread-10] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received cancelOk for tag amq.ctag-hBQz3Z0XV5qV3nvIwmIsdQ (gymai.email.queue); Consumer@54556723: tags=[[amq.ctag-hBQz3Z0XV5qV3nvIwmIsdQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:27.642 [pool-2-thread-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received cancelOk for tag amq.ctag-TacfT-MS7SG4_Wy58BI2ZA (gymai.email.queue); Consumer@6124dda2: tags=[[amq.ctag-TacfT-MS7SG4_Wy58BI2ZA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:27.642 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Cancelling Consumer@6124dda2: tags=[[amq.ctag-TacfT-MS7SG4_Wy58BI2ZA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:27.642 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Closing Rabbit Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134]
2025-08-29 00:43:27.643 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.c.CachingConnectionFactory - Closing cached Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3)
2025-08-29 00:43:27.643 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-29 00:43:27.650 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Cancelling Consumer@54556723: tags=[[amq.ctag-hBQz3Z0XV5qV3nvIwmIsdQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:27.652 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Closing Rabbit Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134]
2025-08-29 00:43:27.653 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.c.CachingConnectionFactory - Closing cached Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1)
2025-08-29 00:43:27.978 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-29 00:43:27.979 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Cancelling Consumer@380e33c2: tags=[[amq.ctag-ZKeszN_6znpQhRPDZv_vCg]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:27.979 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Closing Rabbit Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@6b3b2c34 Shared Rabbit Connection: SimpleConnection@68c4db77 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=29134]
2025-08-29 00:43:27.980 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.c.CachingConnectionFactory - Closing cached Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2)
2025-08-29 00:43:27.984 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-29 00:43:28.013 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-29 00:43:28.346 [SpringApplicationShutdownHook] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Shutdown ignored - container is not active already
2025-08-29 00:43:43.931 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-29 00:43:43.989 [main] INFO  c.g.n.NotificationServiceApplication - Starting NotificationServiceApplication using Java 21.0.8 with PID 4024 (C:\Users\bikku\OneDrive\Desktop\GymAi\notification-service\target\classes started by bikku in C:\Users\bikku\OneDrive\Desktop\GymAi\notification-service)
2025-08-29 00:43:43.991 [main] INFO  c.g.n.NotificationServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-29 00:43:45.507 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8084 (http)
2025-08-29 00:43:45.523 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8084"]
2025-08-29 00:43:45.525 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-29 00:43:45.526 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-29 00:43:45.622 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-29 00:43:45.622 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1578 ms
2025-08-29 00:43:46.626 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-29 00:43:46.670 [main] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Inferred argument type for public void com.gymai.notification_service.service.EventConsumerService.handleUserEvent(com.gymai.notification_service.dto.UserEvent) is class com.gymai.notification_service.dto.UserEvent
2025-08-29 00:43:46.683 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Changing consumers from 1 to 3
2025-08-29 00:43:46.687 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - No global properties bean
2025-08-29 00:43:46.688 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - No global properties bean
2025-08-29 00:43:46.743 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8084"]
2025-08-29 00:43:46.822 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8084 (http) with context path '/'
2025-08-29 00:43:46.826 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Starting Rabbit listener container.
2025-08-29 00:43:46.829 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [puffin.rmq2.cloudamqp.com:5671]
2025-08-29 00:43:47.365 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4eeab3e:0/SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115]
2025-08-29 00:43:47.371 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Initializing declarations
2025-08-29 00:43:47.418 [main] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1)
2025-08-29 00:43:47.436 [main] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x000002b0c9631100 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115]
2025-08-29 00:43:47.438 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - declaring Exchange 'gymai.events'
2025-08-29 00:43:47.474 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - declaring Queue 'gymai.email.queue'
2025-08-29 00:43:47.509 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.registration]
2025-08-29 00:43:47.545 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.login]
2025-08-29 00:43:47.577 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [order.created]
2025-08-29 00:43:47.612 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.password.reset]
2025-08-29 00:43:47.653 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Declarations finished
2025-08-29 00:43:47.662 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x000002b0c96377d8 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115]
2025-08-29 00:43:47.699 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x000002b0c96377d8 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115]
2025-08-29 00:43:47.703 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@29188050: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:47.733 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@26a33cf: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:47.740 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2)
2025-08-29 00:43:47.769 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3)
2025-08-29 00:43:47.769 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x000002b0c96377d8 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115]
2025-08-29 00:43:47.803 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@2d593b56: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:47.848 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-8ICKgqEBAAPhh6QEqnOpSg: Consumer@26a33cf: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:47.848 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-wmWox7ujsNm0OQBl9eZHjA: Consumer@29188050: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:47.848 [pool-2-thread-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@26a33cf: tags=[[amq.ctag-8ICKgqEBAAPhh6QEqnOpSg]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:47.849 [pool-2-thread-4] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@29188050: tags=[[amq.ctag-wmWox7ujsNm0OQBl9eZHjA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:47.903 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-Mlrlaw8U4k2Jjd3AwlWBRQ: Consumer@2d593b56: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:47.903 [pool-2-thread-5] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@2d593b56: tags=[[amq.ctag-Mlrlaw8U4k2Jjd3AwlWBRQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:47.918 [main] INFO  c.g.n.NotificationServiceApplication - Started NotificationServiceApplication in 4.791 seconds (process running for 5.296)
2025-08-29 00:43:59.045 [pool-2-thread-6] DEBUG o.s.a.r.l.BlockingQueueConsumer - Storing delivery for consumerTag: 'amq.ctag-8ICKgqEBAAPhh6QEqnOpSg' with deliveryTag: '1' in Consumer@26a33cf: tags=[[amq.ctag-8ICKgqEBAAPhh6QEqnOpSg]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:43:59.073 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received message: (Body:'[B@7ff0bc34(byte[74])' MessageProperties [headers={__TypeId__=com.gymai.auth_service.messaging.UserEvent}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=gymai.events, receivedRoutingKey=user.login, deliveryTag=1, consumerTag=amq.ctag-8ICKgqEBAAPhh6QEqnOpSg, consumerQueue=gymai.email.queue])
2025-08-29 00:43:59.174 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Processing [GenericMessage [payload=UserEvent(email=bikkujangid@gmail.com, name=null, eventType=LOGIN), headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=gymai.events, amqp_deliveryTag=1, amqp_consumerQueue=gymai.email.queue, amqp_redelivered=false, amqp_receivedRoutingKey=user.login, amqp_contentEncoding=UTF-8, amqp_retryCount=0, id=f3ef0771-6433-6e30-0b9c-db82a399198c, amqp_consumerTag=amq.ctag-8ICKgqEBAAPhh6QEqnOpSg, amqp_lastInBatch=false, contentType=application/json, __TypeId__=com.gymai.auth_service.messaging.UserEvent, timestamp=1756408439173}]]
2025-08-29 00:43:59.175 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EventConsumerService - Received event: LOGIN for user: null
2025-08-29 00:43:59.175 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EmailServiceImpl - Initiating login notification email for user: bikkujangid@gmail.com
2025-08-29 00:43:59.175 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EmailServiceImpl - Attempting to send an email to: bikkujangid@gmail.com with subject: Login Notification - GymAI
2025-08-29 00:44:03.189 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EmailServiceImpl - Email sent successfully to: bikkujangid@gmail.com
2025-08-29 00:49:39.608 [SpringApplicationShutdownHook] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Shutting down Rabbit listener container
2025-08-29 00:49:39.656 [pool-2-thread-7] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received cancelOk for tag amq.ctag-wmWox7ujsNm0OQBl9eZHjA (gymai.email.queue); Consumer@29188050: tags=[[amq.ctag-wmWox7ujsNm0OQBl9eZHjA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:39.682 [pool-2-thread-8] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received cancelOk for tag amq.ctag-8ICKgqEBAAPhh6QEqnOpSg (gymai.email.queue); Consumer@26a33cf: tags=[[amq.ctag-8ICKgqEBAAPhh6QEqnOpSg]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:39.723 [pool-2-thread-9] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received cancelOk for tag amq.ctag-Mlrlaw8U4k2Jjd3AwlWBRQ (gymai.email.queue); Consumer@2d593b56: tags=[[amq.ctag-Mlrlaw8U4k2Jjd3AwlWBRQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:39.724 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-29 00:49:39.983 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Cancelling Consumer@2d593b56: tags=[[amq.ctag-Mlrlaw8U4k2Jjd3AwlWBRQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:39.983 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Closing Rabbit Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115]
2025-08-29 00:49:39.983 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.c.CachingConnectionFactory - Closing cached Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3)
2025-08-29 00:49:40.050 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Cancelling Consumer@29188050: tags=[[amq.ctag-wmWox7ujsNm0OQBl9eZHjA]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:40.050 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Closing Rabbit Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115]
2025-08-29 00:49:40.050 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.c.CachingConnectionFactory - Closing cached Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2)
2025-08-29 00:49:40.150 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-29 00:49:40.150 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Cancelling Consumer@26a33cf: tags=[[amq.ctag-8ICKgqEBAAPhh6QEqnOpSg]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:40.150 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Closing Rabbit Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@e6e5da4 Shared Rabbit Connection: SimpleConnection@3eedd0e3 [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=41115]
2025-08-29 00:49:40.150 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.c.CachingConnectionFactory - Closing cached Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1)
2025-08-29 00:49:40.152 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-29 00:49:40.171 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-29 00:49:40.219 [SpringApplicationShutdownHook] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Shutdown ignored - container is not active already
2025-08-29 00:49:53.707 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-29 00:49:53.759 [main] INFO  c.g.n.NotificationServiceApplication - Starting NotificationServiceApplication using Java 21.0.8 with PID 2668 (C:\Users\bikku\OneDrive\Desktop\GymAi\notification-service\target\classes started by bikku in C:\Users\bikku\OneDrive\Desktop\GymAi\notification-service)
2025-08-29 00:49:53.759 [main] INFO  c.g.n.NotificationServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-29 00:49:55.297 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8084 (http)
2025-08-29 00:49:55.326 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8084"]
2025-08-29 00:49:55.328 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-29 00:49:55.328 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-29 00:49:55.439 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-29 00:49:55.444 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1626 ms
2025-08-29 00:49:56.474 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-29 00:49:56.510 [main] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Inferred argument type for public void com.gymai.notification_service.service.EventConsumerService.handleUserEvent(com.gymai.notification_service.dto.UserEvent) is class com.gymai.notification_service.dto.UserEvent
2025-08-29 00:49:56.526 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Changing consumers from 1 to 3
2025-08-29 00:49:56.529 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - No global properties bean
2025-08-29 00:49:56.530 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - No global properties bean
2025-08-29 00:49:56.557 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8084"]
2025-08-29 00:49:56.603 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8084 (http) with context path '/'
2025-08-29 00:49:56.603 [main] DEBUG o.s.a.r.l.SimpleMessageListenerContainer - Starting Rabbit listener container.
2025-08-29 00:49:56.610 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [puffin.rmq2.cloudamqp.com:5671]
2025-08-29 00:49:57.129 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6b70d1fb:0/SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290]
2025-08-29 00:49:57.129 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Initializing declarations
2025-08-29 00:49:57.180 [main] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1)
2025-08-29 00:49:57.196 [main] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x0000026d42630f08 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290]
2025-08-29 00:49:57.197 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - declaring Exchange 'gymai.events'
2025-08-29 00:49:57.232 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - declaring Queue 'gymai.email.queue'
2025-08-29 00:49:57.274 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.registration]
2025-08-29 00:49:57.314 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.login]
2025-08-29 00:49:57.343 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [order.created]
2025-08-29 00:49:57.387 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Binding destination [gymai.email.queue (QUEUE)] to exchange [gymai.events] with routing key [user.password.reset]
2025-08-29 00:49:57.411 [main] DEBUG o.s.amqp.rabbit.core.RabbitAdmin - Declarations finished
2025-08-29 00:49:57.427 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x0000026d426375e0 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290]
2025-08-29 00:49:57.459 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x0000026d426375e0 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290]
2025-08-29 00:49:57.475 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@3c87e851: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:57.505 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@54556723: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:57.508 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2)
2025-08-29 00:49:57.542 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.c.CachingConnectionFactory - Creating cached Rabbit Channel from AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3)
2025-08-29 00:49:57.542 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.amqp.rabbit.core.RabbitTemplate - Executing callback RabbitAdmin$$Lambda/0x0000026d426375e0 on RabbitMQ Channel: Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290]
2025-08-29 00:49:57.577 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Starting consumer Consumer@6124dda2: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:57.614 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-xiwNvJa62B-jFA3NgPA-3A: Consumer@54556723: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:57.614 [pool-2-thread-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@54556723: tags=[[amq.ctag-xiwNvJa62B-jFA3NgPA-3A]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:57.619 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-FB3BYft5HWCv5_CQ6788Og: Consumer@3c87e851: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:57.619 [pool-2-thread-4] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@3c87e851: tags=[[amq.ctag-FB3BYft5HWCv5_CQ6788Og]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:57.669 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] DEBUG o.s.a.r.l.BlockingQueueConsumer - Started on queue 'gymai.email.queue' with tag amq.ctag-68db7lD8DqyKP23dWFZBBQ: Consumer@6124dda2: tags=[[]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:57.669 [pool-2-thread-5] DEBUG o.s.a.r.l.BlockingQueueConsumer - ConsumeOK: Consumer@6124dda2: tags=[[amq.ctag-68db7lD8DqyKP23dWFZBBQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,3), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:49:57.685 [main] INFO  c.g.n.NotificationServiceApplication - Started NotificationServiceApplication in 4.756 seconds (process running for 5.164)
2025-08-29 00:50:21.954 [pool-2-thread-6] DEBUG o.s.a.r.l.BlockingQueueConsumer - Storing delivery for consumerTag: 'amq.ctag-xiwNvJa62B-jFA3NgPA-3A' with deliveryTag: '1' in Consumer@54556723: tags=[[amq.ctag-xiwNvJa62B-jFA3NgPA-3A]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,1), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:50:21.978 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received message: (Body:'[B@1f124a55(byte[74])' MessageProperties [headers={__TypeId__=com.gymai.auth_service.messaging.UserEvent}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=gymai.events, receivedRoutingKey=user.login, deliveryTag=1, consumerTag=amq.ctag-xiwNvJa62B-jFA3NgPA-3A, consumerQueue=gymai.email.queue])
2025-08-29 00:50:22.125 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Processing [GenericMessage [payload=UserEvent(email=bikkujangid@gmail.com, name=null, eventType=LOGIN), headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=gymai.events, amqp_deliveryTag=1, amqp_consumerQueue=gymai.email.queue, amqp_redelivered=false, amqp_receivedRoutingKey=user.login, amqp_contentEncoding=UTF-8, amqp_retryCount=0, id=0bc7ea5b-e022-8fb3-e1b2-4200de5354e6, amqp_consumerTag=amq.ctag-xiwNvJa62B-jFA3NgPA-3A, amqp_lastInBatch=false, contentType=application/json, __TypeId__=com.gymai.auth_service.messaging.UserEvent, timestamp=1756408822123}]]
2025-08-29 00:50:22.125 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EventConsumerService - Received event: LOGIN for user: bikkujangid@gmail.com
2025-08-29 00:50:22.125 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EmailServiceImpl - Initiating login notification email for user: bikkujangid@gmail.com
2025-08-29 00:50:22.125 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EmailServiceImpl - Attempting to send an email to: bikkujangid@gmail.com with subject: Login Notification - GymAI
2025-08-29 00:50:26.176 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.g.n.service.EmailServiceImpl - Email sent successfully to: bikkujangid@gmail.com
2025-08-29 00:52:07.963 [pool-2-thread-7] DEBUG o.s.a.r.l.BlockingQueueConsumer - Storing delivery for consumerTag: 'amq.ctag-FB3BYft5HWCv5_CQ6788Og' with deliveryTag: '1' in Consumer@3c87e851: tags=[[amq.ctag-FB3BYft5HWCv5_CQ6788Og]], channel=Cached Rabbit Channel: AMQChannel(amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau,2), conn: Proxy@3b01897f Shared Rabbit Connection: SimpleConnection@2c7375da [delegate=amqp://dnqrhfau@15.206.140.228:5671/dnqrhfau, localPort=4290], acknowledgeMode=AUTO local queue size=0
2025-08-29 00:52:07.965 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.BlockingQueueConsumer - Received message: (Body:'[B@676a0ac1(byte[70])' MessageProperties [headers={__TypeId__=com.gymai.auth_service.messaging.UserEvent}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=gymai.events, receivedRoutingKey=user.login, deliveryTag=1, consumerTag=amq.ctag-FB3BYft5HWCv5_CQ6788Og, consumerQueue=gymai.email.queue])
2025-08-29 00:52:07.965 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] DEBUG o.s.a.r.l.a.MessagingMessageListenerAdapter - Processing [GenericMessage [payload=UserEvent(email=bikkujangid@gmail.com, name=Bhawesh, eventType=LOGIN), headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=gymai.events, amqp_deliveryTag=1, amqp_consumerQueue=gymai.email.queue, amqp_redelivered=false, amqp_receivedRoutingKey=user.login, amqp_contentEncoding=UTF-8, amqp_retryCount=0, id=804f91d4-c8ef-d519-01a5-0fd9c7ddc393, amqp_consumerTag=amq.ctag-FB3BYft5HWCv5_CQ6788Og, amqp_lastInBatch=false, contentType=application/json, __TypeId__=com.gymai.auth_service.messaging.UserEvent, timestamp=1756408927965}]]
2025-08-29 00:52:07.965 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.g.n.service.EventConsumerService - Received event: LOGIN for user: bikkujangid@gmail.com
2025-08-29 00:52:07.969 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.g.n.service.EmailServiceImpl - Initiating login notification email for user: bikkujangid@gmail.com
2025-08-29 00:52:07.971 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.g.n.service.EmailServiceImpl - Attempting to send an email to: bikkujangid@gmail.com with subject: Login Notification - GymAI
2025-08-29 00:52:12.330 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.g.n.service.EmailServiceImpl - Email sent successfully to: bikkujangid@gmail.com
